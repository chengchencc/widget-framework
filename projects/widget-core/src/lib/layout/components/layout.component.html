<!--
@author [chengchen]
@email [chengchen216@hotmail.com]
@create date 2019-05-09 15:21:37
@modify date 2019-05-09 15:21:37
@desc [description]
-->

<ng-content></ng-content>

<ng-container *ngFor="let item of config.layout">
  <ng-container [ngSwitch]="item.type">
    <!-- widget -->
    <widget-container *ngSwitchCase="'widget'" [info]="item.content" appSettable #settableItem="appSettable" [config]="item">
      <div class="setting-tool">
        <button type="button" class="btn btn-dark btn-sm">{{settableItem.getPath()}}</button>
        <button type="button" class="btn btn-dark btn-sm" (click)="settableItem.selectParent($event)">parent</button>
        <!-- <button type="button" class="btn btn-dark btn-sm">setting</button> -->
        <button type="button" class="btn btn-dark btn-sm" (click)="settableItem.removeSelf()">remove</button>
        <button type="button" class="btn btn-dark btn-sm" (click)="settableItem.saveAsTemplate()">saveAsNewTpl</button>
      </div>
    </widget-container>
    <!-- grid container -->
    <gridster-container *ngSwitchCase="'grid'" [config]="item"></gridster-container>
    <!-- layout -->
    <widget-layout *ngSwitchDefault [config]="item" [id]="item.id" appDropzone appSettable #settableItem="appSettable" (onDragDrop)="move($event,item)">
      <div class="setting-tool">
        <button type="button" class="btn btn-dark btn-sm">{{settableItem.getPath().join('>')}}</button>
        <button type="button" class="btn btn-dark btn-sm" (click)="settableItem.selectParent($event)">parent</button>
        <!-- <button type="button" class="btn btn-dark btn-sm">setting</button> -->
        <button type="button" class="btn btn-dark btn-sm" (click)="settableItem.removeSelf()">remove</button>
        <button type="button" class="btn btn-dark btn-sm" (click)="settableItem.saveAsTemplate()">saveAsNewTpl</button>
      </div>
    </widget-layout>
  </ng-container>
</ng-container>
